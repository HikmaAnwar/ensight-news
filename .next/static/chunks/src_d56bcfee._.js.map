{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/HP/Documents/GitHub/ensight-news/src/components/ui/AuthPage.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { Loader } from \"@mantine/core\";\n\ntype AuthPageProps = {\n  isLogin: boolean;\n  onSubmit: (credentials: { email: string; password: string }) => void;\n};\n\nexport default function AuthPage({ isLogin, onSubmit }: AuthPageProps) {\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const [errors, setErrors] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const validate = () => {\n    let valid = true;\n    const newErrors = { email: \"\", password: \"\" };\n\n    if (!/^\\S+@\\S+$/.test(values.email)) {\n      newErrors.email = \"Invalid email\";\n      valid = false;\n    }\n\n    if (values.password.length < 6) {\n      newErrors.password = \"Password must be at least 6 characters\";\n      valid = false;\n    }\n\n    setErrors(newErrors);\n    return valid;\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (validate()) {\n      setIsLoading(true);\n      try {\n        await onSubmit({\n          email: values.email,\n          password: values.password,\n        });\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  };\n\n  return (\n    <div className=\"flex items-center justify-center p-4 bg-surface\">\n      <div className=\"w-full max-w-md p-6 border rounded-md shadow-lg\">\n        <h2 className=\"mb-6 text-2xl font-semibold text-center text-blueblack-white\">\n          {isLogin ? \"Login\" : \"Sign Up\"}\n        </h2>\n\n        <form onSubmit={handleSubmit} className=\"flex flex-col gap-4\">\n          <div>\n            <label\n              htmlFor=\"email\"\n              className=\"block mb-1 font-medium text-blueblack-white\"\n            >\n              Email\n            </label>\n            <input\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              placeholder=\"your@email.com\"\n              required\n              value={values.email}\n              onChange={handleChange}\n              className=\"w-full px-3 py-2 border rounded-md border-blueblack-white text-gray-800\"\n            />\n            {errors.email && (\n              <p className=\"mt-1 text-sm text-primary-accent\">{errors.email}</p>\n            )}\n          </div>\n\n          <div>\n            <label\n              htmlFor=\"password\"\n              className=\"block mb-1 font-medium text-blueblack-white\"\n            >\n              Password\n            </label>\n            <input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Your password\"\n              required\n              value={values.password}\n              onChange={handleChange}\n              className=\"w-full px-3 py-2 border rounded-md border-blueblack-white text-gray-800\"\n            />\n            {errors.password && (\n              <p className=\"mt-1 text-sm text-primary-accent\">\n                {errors.password}\n              </p>\n            )}\n          </div>\n\n          <div className=\"flex items-center justify-between mt-4\">\n            <p className=\"text-sm\">\n              {isLogin ? \"Need an account?\" : \"Already have an account? \"}\n              <Link\n                href={isLogin ? \"/signup\" : \"/login\"}\n                className=\"text-blue-light hover:underline\"\n              >\n                {isLogin ? \" Sign Up\" : \" Login\"}\n              </Link>\n            </p>\n            <button\n              type=\"submit\"\n              className=\"flex items-center justify-center px-4 py-2 rounded-md cursor-pointer text-surface bg-blueblack-white hover:bg-surface hover:text-blueblack-white\"\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <>\n                  <Loader size=\"sm\" className=\"mr-2\" />\n                  Loading...\n                </>\n              ) : isLogin ? (\n                \"Login\"\n              ) : (\n                \"Sign Up\"\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAWe,SAAS,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAiB;;IACnE,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QACnC,OAAO;QACP,UAAU;IACZ;IAEA,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QACnC,OAAO;QACP,UAAU;IACZ;IAEA,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,WAAW;QACf,IAAI,QAAQ;QACZ,MAAM,YAAY;YAAE,OAAO;YAAI,UAAU;QAAG;QAE5C,IAAI,CAAC,YAAY,IAAI,CAAC,OAAO,KAAK,GAAG;YACnC,UAAU,KAAK,GAAG;YAClB,QAAQ;QACV;QAEA,IAAI,OAAO,QAAQ,CAAC,MAAM,GAAG,GAAG;YAC9B,UAAU,QAAQ,GAAG;YACrB,QAAQ;QACV;QAEA,UAAU;QACV,OAAO;IACT;IAEA,MAAM,eAAe,CAAC;QACpB,UAAU;YAAE,GAAG,MAAM;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IACzD;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,YAAY;YACd,aAAa;YACb,IAAI;gBACF,MAAM,SAAS;oBACb,OAAO,OAAO,KAAK;oBACnB,UAAU,OAAO,QAAQ;gBAC3B;YACF,SAAU;gBACR,aAAa;YACf;QACF;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BACX,UAAU,UAAU;;;;;;8BAGvB,6LAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,6LAAC;;8CACC,6LAAC;oCACC,SAAQ;oCACR,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,IAAG;oCACH,MAAK;oCACL,MAAK;oCACL,aAAY;oCACZ,QAAQ;oCACR,OAAO,OAAO,KAAK;oCACnB,UAAU;oCACV,WAAU;;;;;;gCAEX,OAAO,KAAK,kBACX,6LAAC;oCAAE,WAAU;8CAAoC,OAAO,KAAK;;;;;;;;;;;;sCAIjE,6LAAC;;8CACC,6LAAC;oCACC,SAAQ;oCACR,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,IAAG;oCACH,MAAK;oCACL,MAAK;oCACL,aAAY;oCACZ,QAAQ;oCACR,OAAO,OAAO,QAAQ;oCACtB,UAAU;oCACV,WAAU;;;;;;gCAEX,OAAO,QAAQ,kBACd,6LAAC;oCAAE,WAAU;8CACV,OAAO,QAAQ;;;;;;;;;;;;sCAKtB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAE,WAAU;;wCACV,UAAU,qBAAqB;sDAChC,6LAAC,+JAAA,CAAA,UAAI;4CACH,MAAM,UAAU,YAAY;4CAC5B,WAAU;sDAET,UAAU,aAAa;;;;;;;;;;;;8CAG5B,6LAAC;oCACC,MAAK;oCACL,WAAU;oCACV,UAAU;8CAET,0BACC;;0DACE,6LAAC,8KAAA,CAAA,SAAM;gDAAC,MAAK;gDAAK,WAAU;;;;;;4CAAS;;uDAGrC,UACF,UAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhB;GAvIwB;KAAA","debugId":null}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/HP/Documents/GitHub/ensight-news/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport AuthPage from \"@/components/ui/AuthPage\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuthStore } from \"@/lib/store/useAuthStore\";\n\nexport default function LoginPage() {\n  const setLoggedIn = useAuthStore(\n    (state: { setLoggedIn: (value: boolean) => void }) => state.setLoggedIn\n  );\n  const [error, setError] = useState<string | null>(null);\n  const router = useRouter();\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      const user = localStorage.getItem(\"user\");\n      const token = localStorage.getItem(\"token\");\n      if (user && token) {\n        router.push(\"/\");\n      }\n    }\n  }, [router]);\n\n  const handleSubmit = async (credentials: {\n    email: string;\n    password: string;\n  }) => {\n    try {\n      const res = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(credentials),\n      });\n\n      if (!res.ok) {\n        const errData = await res.json();\n        throw new Error(errData.message || \"Login failed\");\n      }\n\n      const data = await res.json();\n\n      localStorage.setItem(\"user\", JSON.stringify(data.user));\n      localStorage.setItem(\"token\", data.token);\n      setLoggedIn(true);\n      router.push(\"/\");\n      //eslint-disable-next-line\n    } catch (err: any) {\n      setError(err.message);\n    }\n  };\n\n  return (\n    <div className=\"py-20 mx-auto\">\n      {error && (\n        <p className=\"mt-2 mb-4 text-sm text-center text-red-500\">{error}</p>\n      )}\n      <AuthPage isLogin={true} onSubmit={handleSubmit} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,cAAc,CAAA,GAAA,sIAAA,CAAA,eAAY,AAAD;+CAC7B,CAAC,QAAqD,MAAM,WAAW;;IAEzE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,wCAAmC;gBACjC,MAAM,OAAO,aAAa,OAAO,CAAC;gBAClC,MAAM,QAAQ,aAAa,OAAO,CAAC;gBACnC,IAAI,QAAQ,OAAO;oBACjB,OAAO,IAAI,CAAC;gBACd;YACF;QACF;8BAAG;QAAC;KAAO;IAEX,MAAM,eAAe,OAAO;QAI1B,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,mBAAmB;gBACzC,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,UAAU,MAAM,IAAI,IAAI;gBAC9B,MAAM,IAAI,MAAM,QAAQ,OAAO,IAAI;YACrC;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,KAAK,IAAI;YACrD,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;YACxC,YAAY;YACZ,OAAO,IAAI,CAAC;QACZ,0BAA0B;QAC5B,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO;QACtB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;YACZ,uBACC,6LAAC;gBAAE,WAAU;0BAA8C;;;;;;0BAE7D,6LAAC,uIAAA,CAAA,UAAQ;gBAAC,SAAS;gBAAM,UAAU;;;;;;;;;;;;AAGzC;GAvDwB;;QACF,sIAAA,CAAA,eAAY;QAIjB,qIAAA,CAAA,YAAS;;;KALF","debugId":null}}]
}